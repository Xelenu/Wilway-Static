<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Permissions-Policy" content="fullscreen=(self)">
  <title>VOS</title>
<link rel="stylesheet" href="/vm/styles.css">
</head>
<body>

  <!-- ‚Äî‚Äî AUTH OVERLAY ‚Äî‚Äî -->
  <div id="overlay">
  <div id="auth-overlay">
    <div id="auth-box">
      <h2 id="auth-title">Welcome!</h2>
      <button id="auth-guest"><b>Guest</b></button>
    </div>
  </div>
    </div>
<body>

  <!-- Disable right-click -->
  <script>
    ['contextmenu','mousedown','mouseup'].forEach(evt =>
      document.addEventListener(evt, e => {
        if (evt==='contextmenu' || e.button===2) {
          e.preventDefault(); return false;
        }
      })
    );
  </script>

  <!-- Overlays -->

    <!-- PAGE-LOAD ALERT (visible immediately) -->
 <div id="alertBox">
  <div class="alert-content">
    <span style="font-size:48px;">‚ú®</span>
    <h2>Announcement:</h2>
    <p>Welcome to VOS (Virtual Operating System), a fast and smooth version of the prox. If it is blocked, try launching VOS on the prox.</p>
    <b> </b>
    <p>It's <b>summer</b> right now, so I won't really update this frequently.</p>
    <b> </b>
    <button style="margin-top: 30px;" id="okButton">Alright!</button>
  </div>
</div>

  <div id="warning" class="overlay active">
    <div class="overlay-content">
      <h2>Welcome to VOS!</h2>
      <p>Enjoy half an hour of freedom! If you reach your end time, just start another session.</p>
      <b>Select a server:</b>
      <div id="server-switch">
        <button data-url="https://vm1.learnstats.xyz/" class="selected">Main üü¢</button>
        <button data-url="https://vm2.learnstats.xyz/">1 üî¥</button>
      </div>
      <p style="color:#ff4444;font-weight:bold;text-decoration:underline;">
        Warning: Keybinds on the VM will only work in fullscreen mode.
      </p>
      <label><input type="checkbox" id="acknowledge-checkbox"> I understand.</label><br>
      <button id="close-warning" disabled>Start session.</button><br>
      <i style="font-size:20px;margin-top:10px;display:block;">V1</i>
    </div>
  </div>

  <div id="minute-warning" class="overlay">
    <div class="overlay-content">
      <p><span style="font-size:48px;">‚ö†Ô∏è</span> There is one minute left in your session.</p>
      <button id="minute-ok">OK</button>
    </div>
  </div>

  <div id="black-notif" class="overlay">
    <div class="overlay-content">
      <span style="font-size:48px;">ü§î</span>
      <p style="font-size:48px;">No VM is showing?</p>
      <button id="notif-yes">Yes, why?</button>
      <button id="notif-no">No, go away.</button>
    </div>
  </div>

  <div id="black-alert" class="overlay">
    <div class="overlay-content" style="display:flex;gap:15px;align-items:flex-start;">
      <div style="font-size:48px;line-height:1;">üíÄ</div>
      <div>
        <p style="font-size:24px;">If you just see a black screen for more than 5 seconds, it‚Äôs either:<br>
           1. The VM was rate-limited<br>
           2. Too many users<br>
           3. The school(s) blocked the frame<br>
           4. We're down temporarily</p>
        <p>Check back later.</p>
        <button id="black-ok">OK</button>
        <script>
  document.getElementById('black-ok').addEventListener('click', function () {
    window.location.href = 'https://nuhuh.learnstats.xyz/';
  });
</script>
      </div>
    </div>
  </div>

  <!-- Hyperbeam VM & Errors -->
  <div id="session-timer" style="font-family: Impact, 'Arial Black', 'Helvetica Neue', Helvetica, Arial, sans-serif;">30:00</div>
  <div id="hyperbeam-container">
</div>
  <div id="error-message"></div>
  <!-- Main script -->
<script type="module" src="/vm/scrept-1.js"></script>
  <script src="/vm/scrept-2.js" defer></script>
</body>
</html>
